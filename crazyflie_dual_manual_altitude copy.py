import time

import cflib.crtp# type: ignore
from cflib.crazyflie.swarm import CachedCfFactory# type: ignore
from cflib.crazyflie.swarm import Swarm# type: ignore
from cflib.crazyflie import Crazyflie
from cflib.crazyflie import syncCrazyflie# type: ignore
import traceback
import pyvicon_datastream as pv
from pyvicon_datastream import tools
import math 

VICON_TRACKER_IP = "192.168.10.1"
OBJECT_NAME = "pipeCrazyflie"

WEIGHTING = 0.5
beam_length = 1
import numpy as np

import pygame

uris = [
    'radio://0/80/2M/E7E7E7E7E7', #Atlas
    'radio://0/81/2M/E6E7E6E7E6', #P-Body
]

reference = np.array([0, 0, 0])  # reference state
height = 0.6


def light_check(scf):
    def activate_led_bit_mask(scf):
        scf.cf.param.set_value('led.bitmask', 255)

    def deactivate_led_bit_mask(scf):
        scf.cf.param.set_value('led.bitmask', 0)
    
    activate_led_bit_mask(scf)
    time.sleep(2)
    deactivate_led_bit_mask(scf)
    time.sleep(2)
 


def update_controller(scf,roll,pitch,yawrate,altitude):
    scf.cf.commander.send_zdistance_setpoint(roll, pitch, yawrate, altitude)


def take_off(scf):
    commander= scf.cf.high_level_commander

    commander.takeoff(height, 2.0)
    time.sleep(3)
    
def land(scf):
    scf.cf.commander.send_notify_setpoint_stop()
    scf.cf.high_level_commander.land(0.0, 5.0)
    time.sleep(5)

    scf.cf.high_level_commander.commander.stop()  

# EMERGENCY STOP
def stop(scf):
    commander= scf.cf.high_level_commander
    commander.stop()
    print('EMERGENCY STOP OCCURED')
    
def hold_pos(scf):
    commander= scf.cf.high_level_commander
    commander.go_to(0, 0, 0, 0, 1.0, relative=True)
    time.sleep(2)

def get_pos(position, current_pos):
    if len(position[2]) > 0:
        obj_data = position[2][0]
        x, z, y = obj_data[2], obj_data[3], obj_data[4]
        x_rot, z_rot, y_rot  = math.degrees(obj_data[5]), math.degrees(obj_data[6]), math.degrees(obj_data[7])
        return np.array([x/1000, y/1000, z/1000, x_rot, y_rot, z_rot])
    else:
        return current_pos
                


if __name__ == '__main__':

    vicon_client = pv.PyViconDatastream()
    ret = vicon_client.connect(VICON_TRACKER_IP)
    mytracker = tools.ObjectTracker(VICON_TRACKER_IP)
    
    cflib.crtp.init_drivers()
    factory = CachedCfFactory(rw_cache='./cache')

    pygame.init()
    pygame.joystick.init()
    controller = pygame.joystick.Joystick(0)
    controller.init()
    
    roll = 0
    pitch = 0
    yawrate = 0

    current_pos = np.array([0,0,0,0,0,0])
    prev_pos = np.array([0,0,0,0,0,0])
    
    


    Kr = matrix = np.array([
        [0.00790569415042098, -4.64061582012919e-17, -1.03577480574660e-18],
        [-9.54512387211709e-18, 0.00790569415042098, -1.00080642132359e-18],
        [-1.46655739177654e-17, 1.39020390585831e-18, 0.000559016994374947]
    ])

    Kx = np.array([
        [0.123892187662516, 0.970353507289202, -4.33515534884924e-16, -1.69428919979206e-15, -1.29295131797068e-16, -1.12395298233450e-15],
        [-5.15808636551356e-17, -6.80011602582908e-16, 0.123892187662517, 0.970353507289206, -6.04825737656860e-17, -1.50467320189249e-16],
        [-2.09204418865476e-16, -1.69052653530699e-15, 3.69073354975087e-17, 4.51981734746489e-16, 0.0334506522877385, 1.00044131801938]
    ])

    with Swarm(uris, factory=factory) as swarm:
        try:
            if ret != pv.Result.Success:
                raise Exception('Connection to {VICON_TRACKER_IP} failed')
            else:
                print(f"Connection to {VICON_TRACKER_IP} successful")
            
            
            
            swarm.parallel_safe(light_check)
            swarm.reset_estimators()
            
            offset = get_pos(mytracker.get_position(OBJECT_NAME), current_pos)
            print("Offset Pos & Rot: ",offset)
            
            
            
            
            waiting = True
            while(waiting):
                for event in pygame.event.get():
                    if event.type == pygame.JOYBUTTONDOWN:
                        if event.button == 0: # A button
                            waiting = False
                time.sleep(0.5)
                print('waiting')
            
            print("Starting flight")
            
            swarm.parallel_safe(take_off)
            
            flying = True
            start_time = time.time()
            
            current_pos = get_pos(mytracker.get_position(OBJECT_NAME), current_pos) - offset
            prev_pos = current_pos
            mytracker = tools.ObjectTracker(VICON_TRACKER_IP)
            current_time = time.time()
            prev_time = current_time

            y_tracker = 0
        
            
            
            
            
            
            print('starting altitude flight')
            while flying:
            
                # safety timeout
                elapsed_time = time.time() - start_time

                if elapsed_time > 5:
                    print("Timeout reached. Exiting loop.")
                    break
                
                for event in pygame.event.get():
                    # if event.type == pygame.JOYAXISMOTION:
                        # roll = controller.get_axis(3) * 5
                        # pitch = controller.get_axis(4) * 5
                        # if abs(roll) < 1:
                        #     roll = 0
                        # if abs(pitch) < 1:
                        #     pitch = 0
                    if event.type == pygame.JOYBUTTONDOWN:
                        if event.button == 1:  # B button
                            flying = False
                        if event.button == 3:  # Y button
                            raise Exception('Manual Emegency Stop') # emergency stop
                
                
                
                d_time = time.time() - current_time
                # update states
                current_pos = get_pos(mytracker.get_position(OBJECT_NAME), current_pos)
                current_vel = (np.subtract(current_pos,prev_pos)) / d_time
                print("POS:" ,current_pos ,'\n')
                print("VEL:", current_vel,'\n')
                prev_pos = current_pos
                current_time = time.time()
                elapsed_time = current_time - start_time
                
                
                C = current_pos
                x = np.array([current_pos[0],current_vel[0], current_pos[1],current_vel[1], current_pos[2],current_vel[2]])
                
                # calculate the control output
                
                y_tracker += Kr @ (reference - (C @ x))
                u = -Kx @ x + y_tracker
                print("WRENCH CONTROLL:", u)
                yaw = current_pos[2]
                ## split the sum of forces into the the agents compomonents
                HT_thrusts = np.array([u[0], u[1]])
                # generate rotation matrix
                rot_matrix = np.array([[np.cos(yaw), -np.sin(yaw)],
                     [np.sin(yaw), np.cos(yaw)]])
                # multiply the X Y forces by the rotation matrix
                HT_thrusts = HT_thrusts @  rot_matrix
                bx_thrust = HT_thrusts[0]
                by_thrust = HT_thrusts[1]
                # split the x based on the weighting
                bx_1 = WEIGHTING * bx_thrust
                bx_2 = (1-WEIGHTING) * bx_thrust            
                
                # apply gain to the moment setpoint (1/beamlenght)
                moment_z = u[2]/(500*beam_length)
                # combine the y and yaw
                by_1 = WEIGHTING * by_thrust
                by_2 = (1-WEIGHTING) * by_thrust
                
                roll_1 = -0.025*bx_1
                roll_2 = -0.025*bx_2
                
                pitch_1 = -0.025*by_1
                pitch_2 = -0.025*by_2
                
                yawrate = 0
                
                print("Control input: ", [roll_1, pitch_1, yawrate, height],'\n')
                
                # send to drones
                args_dict = {
                    uris[0]: [roll_1, pitch_1, yawrate, height],
                    uris[1]: [roll_2, pitch_2, yawrate, height],
                }
                swarm.parallel_safe(update_controller, args_dict = args_dict)
              
                time.sleep(0.01) # 100hz

            swarm.parallel_safe(land)
        except Exception as e:
            swarm.parallel(stop)
            print(traceback.format_exc())

    pygame.quit()
    
    
    
    
#     WRENCH CONTROLL: [857.08512512 858.54142999  59.63798632]
# Control input:  [5.317982651320896, -14.201068875069337, 0, 0.6] 

# POS: [ 3.73652486e-02  6.02547333e-01 -1.13130419e+00 -1.03106352e+01
#  -8.16476002e+01  3.66965001e+01] 

# VEL: [ 1.46657036e+00 -5.17100179e-02  1.12020196e+00  1.62447486e+01
#  -2.92477986e+01  7.91292084e+01] 

# WRENCH CONTROLL: [855.95566669 857.35891373  59.54330728]
# Control input:  [5.1461289192816215, -14.242517202215039, 0, 0.6] 

# POS: [ 5.28514425e-02  6.02678886e-01 -1.11941423e+00 -8.72948218e+00
#  -8.24716518e+01  3.34396755e+01] 

# VEL: [ 1.50078108e+00  1.27489368e-02  1.15226633e+00  1.53230971e+02
#  -7.98595873e+01 -3.15621824e+02] 

# WRENCH CONTROLL: [854.88512151 856.26091938  59.43761508]
# Control input:  [4.969913231591772, -14.284667768536094, 0, 0.6] 

# POS: [ 6.75442482e-02  6.02154601e-01 -1.10764016e+00 -9.53763209e+00
#  -8.18572002e+01  3.53612516e+01] 

# VEL: [ 1.42990611e+00 -5.10235216e-02  1.14585445e+00 -7.86492735e+01
#   5.97985229e+01  1.87008087e+02] 

# WRENCH CONTROLL: [853.90953186 855.28032307  59.369917  ]
# Control input:  [4.795866193538332, -14.325805994640579, 0, 0.6] 

# POS: [  0.08306068   0.60162739  -1.09547454  -9.93202965 -81.55565997
#   38.33850002] 

# VEL: [ 1.49748320e+00 -5.08809020e-02  1.17409848e+00 -3.80631214e+01
#   2.91015061e+01  2.87332832e+02] 

# WRENCH CONTROLL: [852.77390197 854.21211615  59.26572509]
# Control input:  [4.615857005618362, -14.364356916072655, 0, 0.6] 

# POS: [  0.09862639   0.60154791  -1.08379201  -9.75113315 -80.92738692
#   38.99790457] 

# VEL: [ 1.50963887e+00 -7.70811803e-03  1.13302832e+00  1.75442207e+01
#   6.09329701e+01  6.39522537e+01] 

# WRENCH CONTROLL: [851.71476682 853.12482174  59.23250084]
# Control input:  [4.441918460189261, -14.399239953979981, 0, 0.6] 

# POS: [  0.11510941   0.60322277  -1.07049199  -5.51315491 -83.69584183
#   24.90961253] 

# VEL: [ 1.59447324e+00  1.62016636e-01  1.28656876e+00  4.09958004e+02
#  -2.67804642e+02 -1.36282155e+03] 

# WRENCH CONTROLL: [850.67318581 852.00270166  59.0107621 ]
# Control input:  [4.2439591572267705, -14.4388898735549, 0, 0.6] 

# POS: [  0.13053347   0.60258179  -1.05774071  -5.78792214 -83.56733688
#   25.21676832] 

# VEL: [  1.4781948   -0.06143012   1.2220432  -26.33285293  12.31552194
#   29.43687367] 

# WRENCH CONTROLL: [849.83673114 851.27222848  59.00790008]
# Control input:  [4.056681671167884, -14.478239129233922, 0, 0.6] 

# POS: [  0.14662501   0.60293864  -1.04468407  -4.21994942 -84.08193522
#   20.27797904] 

# VEL: [ 1.56414387e+00  3.46865570e-02  1.26914329e+00  1.52411454e+02
#  -5.00204371e+01 -4.80064511e+02] 

# WRENCH CONTROLL: [848.8519607  850.27954128  58.89674697]
# Control input:  [3.862755118111324, -14.51309395880619, 0, 0.6] 

# POS: [  0.16310511   0.60260125  -1.03193476  -4.27731682 -84.25722332
#   21.52731932] 

# VEL: [ 1.60851105e+00 -3.29298978e-02  1.24437343e+00 -5.59924364e+00
#  -1.71086863e+01  1.21939658e+02] 

# WRENCH CONTROLL: [847.90363456 849.44196241  58.85723311]
# Control input:  [3.6745112672436364, -14.54561365079319, 0, 0.6] 

# POS: [  0.17913946   0.60273052  -1.0190711   -3.94301098 -84.34844285
#   22.56825074] 

# VEL: [ 1.55537773e+00  1.25399458e-02  1.24781124e+00  3.24286022e+01
#  -8.84854970e+00  1.00973260e+02] 

# WRENCH CONTROLL: [847.04860601 848.49322444  58.78939859]
# Control input:  [3.482605099329169, -14.576358469458263, 0, 0.6] 

# POS: [  0.19554474   0.60244847  -1.00591179  -4.02689102 -84.50584058
#   23.61122118] 

# VEL: [ 1.59649013e+00 -2.74487413e-02  1.28060667e+00 -8.16283996e+00
#  -1.53172611e+01  1.01497334e+02] 

# WRENCH CONTROLL: [846.09162216 847.61700475  58.69144414]
# Control input:  [3.287646674621393, -14.604956605245418, 0, 0.6] 

# POS: [  0.21205351   0.60249579  -0.99234047  -3.69782411 -84.81870191
#   20.73969919] 

# VEL: [ 1.61108455e+00  4.61888987e-03  1.32442005e+00  3.21135125e+01
#  -3.05320161e+01 -2.80230722e+02] 

# WRENCH CONTROLL: [845.18967868 846.70014551  58.58452644]
# Control input:  [3.0857092824055172, -14.63252198651583, 0, 0.6] 

# POS: [  0.22822957   0.60101181  -0.9784128   -5.68716483 -84.06249124
#   32.25471374] 

# VEL: [ 1.56161016e+00 -1.43261833e-01  1.34455466e+00 -1.92047776e+02
#   7.30033706e+01  1.11164112e+03] 

# WRENCH CONTROLL: [844.23297621 845.84111992  58.49301502]
# Control input:  [2.879388549038931, -14.658161636595203, 0, 0.6] 

# POS: [  0.24440427   0.60099402  -0.96510215  -5.65993311 -83.68277255
#   34.3982684 ] 

# VEL: [ 1.57149986e+00 -1.72794973e-03  1.29323396e+00  2.64577499e+00
#   3.68926486e+01  2.08263143e+02] 

# WRENCH CONTROLL: [843.22777718 844.71018561  58.4736551 ]
# Control input:  [2.6795613857018163, -14.676810295469458, 0, 0.6] 

# POS: [  0.27785011   0.60099738  -0.93605471  -5.74339042 -83.06264711
#   35.17053226] 

# VEL: [ 3.26002140e+00  3.27181468e-04  2.83130315e+00 -8.13472428e+00
#   6.04446698e+01  7.52738588e+01] 

# WRENCH CONTROLL: [840.17161961 843.29463991  56.83398231]
# Control input:  [2.260571853739115, -14.707189012888259, 0, 0.6] 

# POS: [  0.29458736   0.60100678  -0.92185333  -5.54258315 -83.88959897
#   35.3150969 ] 

# VEL: [ 1.62849426e+00  9.14278956e-04  1.38176028e+00  1.95380606e+01
#  -8.04604133e+01  1.40657890e+01] 

# WRENCH CONTROLL: [840.75154821 842.29291318  58.21289744]
# Control input:  [2.0371312891881597, -14.736016319111052, 0, 0.6] 

# POS: [  0.31184462   0.60178566  -0.90738254  -4.86274788 -83.36082834
#   33.43209366] 

# VEL: [ 1.67838901e+00  7.57520731e-02  1.40738445e+00  6.61187177e+01
#   5.14266290e+01 -1.83135186e+02] 

# WRENCH CONTROLL: [839.72950471 841.24870766  58.1180832 ]
# Control input:  [1.8212670151136494, -14.745847628247226, 0, 0.6] 

# POS: [  0.32836332   0.60260701  -0.89247569  -4.49964547 -83.82008131
#   32.88574981] 

# VEL: [  1.60670751   0.07988935   1.44992993  35.31751506 -44.66969522
#  -53.14067529] 

# WRENCH CONTROLL: [838.82723756 840.27481426  58.0064467 ]
# Control input:  [1.5988568523376927, -14.754937209983908, 0, 0.6] 

# POS: [  0.34347144   0.60277957  -0.87720216  -3.40691893 -83.47290298
#   28.24448316] 

# VEL: [ 1.46194585e+00  1.66974457e-02  1.47795237e+00  1.05738316e+02
#   3.35949124e+01 -4.49114852e+02] 

# WRENCH CONTROLL: [838.05367543 839.42395104  57.91340151]
# Control input:  [1.3713224407663263, -14.763400538675905, 0, 0.6] 

# POS: [  0.36040378   0.60356281  -0.86238175  -3.96986444 -83.22217029
#   31.15793463] 

# VEL: [ 1.62474842e+00  7.51563077e-02  1.42209738e+00 -5.40176295e+01
#   2.40591410e+01  2.79561235e+02] 

# WRENCH CONTROLL: [836.97361151 838.44713815  57.90373227]
# Control input:  [1.1518919305910373, -14.763905297847721, 0, 0.6] 

# POS: [  0.37748115   0.6045302   -0.8469279   -3.08272376 -83.43927604
#   28.00316495] 

# VEL: [ 1.63720420e+00  9.27434234e-02  1.48155692e+00  8.50500043e+01
#  -2.08138856e+01 -3.02447156e+02] 

# WRENCH CONTROLL: [836.07010033 837.54064366  57.78084591]
# Control input:  [0.9225943206262613, -14.763976369070955, 0, 0.6] 

# POS: [  0.39477965   0.60483733  -0.83112911  -2.9645025  -83.25443672
#   28.73517019] 

# VEL: [1.65874519e+00 2.94509133e-02 1.51493900e+00 1.13361815e+01
#  1.77241554e+01 7.01916387e+01] 

# WRENCH CONTROLL: [835.15136865 836.70633556  57.68358605]
# Control input:  [0.6892729374062555, -14.761196378543865, 0, 0.6] 

# POS: [  0.41227658   0.6060938   -0.81568818  -3.00247298 -83.05838229
#   29.66779639] 

# VEL: [ 1.69870522  0.12198568  1.49909594 -3.6863969  19.034116   90.54483175] 

# WRENCH CONTROLL: [834.22053281 835.72649571  57.63599467]
# Control input:  [0.4603288641476866, -14.753212022888846, 0, 0.6] 

# POS: [  0.42984443   0.60640345  -0.799699    -3.0574284  -82.82358186
#   30.18360543] 

# VEL: [ 1.70859548e+00  3.01151289e-02  1.55505910e+00 -5.34479828e+00
#   2.28359775e+01  5.01660237e+01] 

# WRENCH CONTROLL: [833.30897206 834.91581708  57.5158474 ]
# Control input:  [0.22506222234653991, -14.743452388402922, 0, 0.6] 

# POS: [  0.44723718   0.60751142  -0.78363921  -2.65085861 -82.74661971
#   29.82877044] 

# VEL: [  1.66648733   0.10616007   1.53876958  38.95550647   7.37413288
#  -33.99853456] 

# WRENCH CONTROLL: [832.46857928 833.96279159  57.46944531]
# Control input:  [-0.012701018879081972, -14.729311979164226, 0, 0.6] 

# POS: [  0.46625976   0.6090164   -0.76757957  -0.3703636  -83.51959112
#   21.73217668] 

# VEL: [ 1.84892085e+00  1.46278218e-01  1.56093482e+00  2.21655258e+02
#  -7.51298188e+01 -7.86957467e+02] 

# WRENCH CONTROLL: [831.50770211 833.14218093  57.391473  ]
# Control input:  [-0.24771653206173172, -14.711486934350626, 0, 0.6] 

# POS: [  0.48391096   0.61023223  -0.75115479  -0.44831425 -83.64809868
#   21.97746448] 

# VEL: [  1.70492077   0.11743638   1.58646174  -7.52921674 -12.41248602
#   23.69223448] 

# WRENCH CONTROLL: [830.86683091 832.39160174  57.31034312]
# Control input:  [-0.48985322367355766, -14.693109300152267, 0, 0.6] 

# POS: [ 5.01860409e-01  6.11332149e-01 -7.34030613e-01 -3.62697344e-02
#  -8.37197131e+01  2.24970124e+01] 

# VEL: [ 1.73785148  0.10649363  1.65794924 39.89381468 -6.93365068 50.30220998] 

# WRENCH CONTROLL: [830.04513957 831.61457068  57.18256567]
# Control input:  [-0.7402567923571184, -14.668475205860222, 0, 0.6] 

# POS: [  0.51936637   0.61154049  -0.71711173  -2.03766084 -83.00162719
#   28.31332624] 

# VEL: [ 1.70415758e+00  2.02816955e-02  1.64700648e+00 -1.94829938e+02
#   6.99036966e+01  5.66202207e+02] 

# WRENCH CONTROLL: [829.22986944 830.85240466  57.13314049]
# Control input:  [-0.9868935189348079, -14.639973949082654, 0, 0.6] 

# POS: [  0.53694745   0.61224307  -0.69977359  -2.20509461 -82.72377888
#   29.22010474] 

# VEL: [ 1.70293241e+00  6.80530618e-02  1.67940206e+00 -1.62179152e+01
#   2.69128506e+01  8.78320792e+01] 

# WRENCH CONTROLL: [828.3773369  829.95441927  57.03993744]
# Control input:  [-1.2396395880929845, -14.605213270764835, 0, 0.6] 

# POS: [  0.55431427   0.61316491  -0.68270423  -2.37033149 -82.10166835
#   29.16838735] 

# VEL: [  1.67876783   0.08910989   1.6500132  -15.9726595   60.13645319
#   -4.99927312] 

# WRENCH CONTROLL: [827.56943545 829.10467447  57.01013514]
# Control input:  [-1.4876143985891135, -14.567314405248926, 0, 0.6] 

# POS: [  0.58936295   0.61496567  -0.64815198  -2.69274252 -80.90010309
#   30.90332747] 

# VEL: [  3.40162881   0.17477142   3.35344847 -31.29141658 116.61722408
#  168.38361415] 

# WRENCH CONTROLL: [824.64706875 827.77508917  55.21666982]
# Control input:  [-1.9708719960251644, -14.471926666014438, 0, 0.6] 

# POS: [  0.60729305   0.61561768  -0.62986818  -2.51902944 -81.24143412
#   30.07956047] 

# VEL: [ 1.72657274e+00  6.27853161e-02  1.76063122e+00  1.67276321e+01
#  -3.28683357e+01 -7.93243156e+01] 

# WRENCH CONTROLL: [825.44001789 827.0534485   56.75087256]
# Control input:  [-2.2484528946613453, -14.432023696887766, 0, 0.6] 

# POS: [  0.62495669   0.61792716  -0.61178391   0.36121937 -81.6413871
#   19.88866944] 

# VEL: [ 1.69542436e+00  2.21673059e-01  1.73579873e+00  2.76457483e+02
#  -3.83890430e+01 -9.78161358e+02] 

# WRENCH CONTROLL: [824.79124901 826.22217965  56.72725371]
# Control input:  [-2.5083926886670334, -14.375840615444833, 0, 0.6] 

# POS: [  0.64288803   0.619172    -0.59352906   1.1543464  -81.70337091
#   18.50970409] 

# VEL: [ 1.74836641e+00  1.21375952e-01  1.77990965e+00  7.73325868e+01
#  -6.04363166e+00 -1.34453818e+02] 

# WRENCH CONTROLL: [824.08379567 825.6654898   56.63627785]
# Control input:  [-2.7669500840977195, -14.316943205541229, 0, 0.6] 

# POS: [  0.66013849   0.6184274   -0.57492169  -2.17433587 -80.39024205
#   27.81878849] 

# VEL: [ 1.66425961e+00 -7.18362443e-02  1.79516957e+00 -3.21138708e+02
#   1.26685719e+02  8.98105347e+02] 

# WRENCH CONTROLL: [823.39307385 825.08286822  56.56592755]
# Control input:  [-3.029570654158238, -14.252175185216766, 0, 0.6] 

# POS: [  0.66013849   0.6184274   -0.57492169  -2.17433587 -80.39024205
#   27.81878849] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [824.64197356 824.64714124  58.3360078 ]
# Control input:  [-3.0456338425475344, -14.25609313211995, 0, 0.6] 

# POS: [  0.69277765   0.61981721  -0.53666393  -2.51761331 -78.98809037
#   26.72117446] 

# VEL: [ 3.14196463e+00  1.33788149e-01  3.68283170e+00 -3.30451437e+01
#   1.34976255e+02 -1.05660346e+02] 

# WRENCH CONTROLL: [820.46209687 823.3901307   54.57057895]
# Control input:  [-3.551808433972157, -14.088953804500484, 0, 0.6] 

# POS: [  0.71137284   0.61978376  -0.51822461  -3.71771162 -78.04141845
#   31.70808956] 

# VEL: [ 1.79850338e+00 -3.23562329e-03  1.78342780e+00 -1.16071972e+02
#   9.15608961e+01  4.82328044e+02] 

# WRENCH CONTROLL: [820.98626683 822.74593776  56.41525088]
# Control input:  [-3.8206611898074097, -14.017319845131277, 0, 0.6] 

# POS: [  0.72877891   0.62062719  -0.49971207  -3.41276189 -77.59746829
#   29.91635723] 

# VEL: [ 1.66445554e+00  8.06533340e-02  1.77026154e+00  2.91608196e+01
#   4.24527365e+01 -1.71334414e+02] 

# WRENCH CONTROLL: [820.38120845 821.93145562  56.37597448]
# Control input:  [-4.07772792369603, -13.931631661346472, 0, 0.6] 

# POS: [  0.74569668   0.62071409  -0.48007474  -3.9039149  -76.60948083
#   30.16762194] 

# VEL: [ 1.63558654e+00  8.40141627e-03  1.89850886e+00 -4.74839815e+01
#   9.55172357e+01  2.42919182e+01] 

# WRENCH CONTROLL: [819.65377397 821.24820312  56.19374368]
# Control input:  [-4.3463834942460755, -13.837100285768697, 0, 0.6] 

# POS: [  0.76583784   0.62335264  -0.45886654   2.22570083 -79.40306791
#   13.44344395] 

# VEL: [ 1.96648249e+00  2.57614402e-01  2.07066394e+00  5.98465323e+02
#  -2.72752007e+02 -1.63286591e+03] 

# WRENCH CONTROLL: [818.80547646 820.48133541  55.98370016]
# Control input:  [-4.6335831552096876, -13.728525479399316, 0, 0.6] 

# POS: [  0.78319037   0.62160249  -0.44119544  -2.03109856 -78.02821098
#   25.94190385] 

# VEL: [ 1.67974788e+00 -1.69416905e-01  1.71058598e+00 -4.12063761e+02
#   1.33087953e+02  1.20986730e+03] 

# WRENCH CONTROLL: [818.44492351 820.25928652  56.29832889]
# Control input:  [-4.872555187549967, -13.640071411976109, 0, 0.6] 

# POS: [  0.80064911   0.62211143  -0.42137613  -1.84452277 -77.0855553
#   24.02701408] 

# VEL: [ 1.70232659e+00  4.96247008e-02  1.93249492e+00  1.81921979e+01
#   9.19142757e+01 -1.86712614e+02] 

# WRENCH CONTROLL: [817.78633626 819.41216076  56.03079206]
# Control input:  [-5.138736184972036, -13.527798229847669, 0, 0.6] 

# POS: [  0.8181178    0.62226812  -0.40079624  -2.39941852 -76.58781754
#   25.47345894] 

# VEL: [ 1.69619792e+00  1.52145917e-02  1.99829437e+00 -5.38800230e+01
#   4.83300188e+01  1.40448872e+02] 

# WRENCH CONTROLL: [817.1336422  818.78905451  55.91785524]
# Control input:  [-5.411555707905783, -13.408831743561208, 0, 0.6] 

# POS: [  0.83506775   0.62211685  -0.38034218  -3.32924114 -75.84345843
#   27.96900968] 

# VEL: [ 1.65179544e+00 -1.47417309e-02  1.99327497e+00 -9.06124244e+01
#   7.25387633e+01  2.43194666e+02] 

# WRENCH CONTROLL: [816.49368084 818.13719398  55.8740424 ]
# Control input:  [-5.680266780397588, -13.284810655501747, 0, 0.6] 

# POS: [  0.85146814   0.6222071   -0.36016806  -2.7788601  -74.73980651
#   24.4708992 ] 

# VEL: [ 1.57179892e+00  8.64978309e-03  1.93346948e+00  5.27480442e+01
#   1.05773048e+02 -3.35255890e+02] 

# WRENCH CONTROLL: [815.97091183 817.51612274  55.89088886]
# Control input:  [-5.943722704995797, -13.15795248180853, 0, 0.6] 

# POS: [  0.86854048   0.6220697   -0.34054516  -2.80703434 -74.33118245
#   24.43594781] 

# VEL: [ 1.65136737e+00 -1.32905890e-02  1.89807736e+00 -2.72522766e+00
#   3.95252413e+01 -3.38076585e+00] 

# WRENCH CONTROLL: [815.31208765 816.95793015  55.88466339]
# Control input:  [-6.1953271781290535, -13.029466336604237, 0, 0.6] 

# POS: [  0.88618677   0.62237314  -0.31825941  -2.20817296 -74.06497344
#   22.58208612] 

# VEL: [ 1.70719847e+00  2.93564731e-02  2.15604522e+00  5.79371376e+01
#   2.57545219e+01 -1.79352759e+02] 

# WRENCH CONTROLL: [814.67193099 816.33271531  55.58455571]
# Control input:  [-6.478981455586041, -12.87824821124427, 0, 0.6] 

# POS: [  0.92062006   0.62245542  -0.27702883  -0.70403739 -73.32203404
#   18.44752744] 

# VEL: [ 3.33726994e+00  7.97472699e-03  3.99606249e+00  1.45780614e+02
#   7.20055845e+01 -4.00720862e+02] 

# WRENCH CONTROLL: [812.32083337 815.58836692  53.68824746]
# Control input:  [-6.978579021126727, -12.583259610953142, 0, 0.6] 

# POS: [  0.93848328   0.62385761  -0.25652001   1.72178042 -72.21972529
#    9.39729578] 

# VEL: [ 1.72894364e+00  1.35714809e-01  1.98500543e+00  2.34789831e+02
#   1.06690158e+02 -8.75952991e+02] 

# WRENCH CONTROLL: [813.56926334 815.15423819  55.67758555]
# Control input:  [-7.251632671687244, -12.436211298171486, 0, 0.6] 

# POS: [  0.95519433   0.62230659  -0.23483983  -0.51065969 -70.82046832
#   17.60440828] 

# VEL: [ 1.61828665e+00 -1.50199055e-01  2.09949360e+00 -2.16187950e+02
#   1.35503074e+02  7.94771075e+02] 

# WRENCH CONTROLL: [813.23626319 814.99356168  55.53132872]
# Control input:  [-7.515945770800103, -12.273162439102958, 0, 0.6] 

# POS: [  0.9719374    0.62332312  -0.21292561   3.44166783 -70.96566185
#    7.71748713] 

# VEL: [ 1.62337348e+00  9.85604608e-02  2.12475813e+00  3.83209578e+02
#  -1.40776675e+01 -9.58615616e+02] 

# WRENCH CONTROLL: [812.9630583  814.48585655  55.48649719]
# Control input:  [-7.78107959546764, -12.09859797393623, 0, 0.6] 

# POS: [  0.98979575   0.62413488  -0.19052094   3.87863056 -71.19122757
#    7.67153543] 

# VEL: [  1.73054945   0.07866331   2.17110668  42.34351872 -21.85826364
#   -4.45291259] 

# WRENCH CONTROLL: [812.60018784 814.24840388  55.42123018]
# Control input:  [-8.046277476011019, -11.917470163854972, 0, 0.6] 

# POS: [  1.00633724   0.62347936  -0.16841153   3.08971055 -69.690342
#    9.12464451] 

# VEL: [ 1.59865447e+00 -6.33528378e-02  2.13676731e+00 -7.62453134e+01
#   1.45053351e+02  1.40435983e+02] 

# WRENCH CONTROLL: [812.46568912 814.12585684  55.43642966]
# Control input:  [-8.306376960127444, -11.734881618686074, 0, 0.6] 

# POS: [  1.02313108   0.62181746  -0.14609996  -2.03542327 -68.54137524
#   18.73254587] 

# VEL: [ 1.61808535e+00 -1.60124669e-01  2.14971773e+00 -4.93806149e+02
#   1.10702836e+02  9.25720369e+02] 

# WRENCH CONTROLL: [812.02913865 813.80435061  55.39333877]
# Control input:  [-8.561297805251597, -11.541877517235491, 0, 0.6] 

# POS: [  1.03914797   0.61977543  -0.12370301  -7.92300873 -63.77784726
#   28.28215233] 

# VEL: [ 1.56093897e+00 -1.99007088e-01  2.18271312e+00 -5.73779526e+02
#   4.64233572e+02  9.30664821e+02] 

# WRENCH CONTROLL: [811.50415741 813.26388421  55.31867709]
# Control input:  [-8.81195330449192, -11.339737983289714, 0, 0.6] 

# POS: [  1.05547499   0.62046692  -0.10118897  -3.86994862 -64.67892211
#   21.49404135] 

# VEL: [ 1.58149928e+00  6.69801855e-02  2.18079879e+00  3.92595234e+02
#  -8.72816302e+01 -6.57522945e+02] 

# WRENCH CONTROLL: [811.04585061 812.56936362  55.28898575]
# Control input:  [-9.060179386073868, -11.12927234841108, 0, 0.6] 

# POS: [  1.07155444   0.62066532  -0.07779088  -2.52454958 -63.95475387
#   17.37199764] 

# VEL: [ 1.56765516e+00  1.93425078e-02  2.28118058e+00  1.31168791e+02
#   7.06023050e+01 -4.01875931e+02] 

# WRENCH CONTROLL: [810.68866654 812.24693879  55.1617112 ]
# Control input:  [-9.31394118612983, -10.909889442502372, 0, 0.6] 

# POS: [ 1.08871583e+00  6.21675729e-01 -5.53502086e-02  3.69230526e+00
#  -6.65060797e+01  9.18368467e+00] 

# VEL: [ 1.66228100e+00  9.78702331e-02  2.17364119e+00  6.02174938e+02
#  -2.47125680e+02 -7.93133663e+02] 

# WRENCH CONTROLL: [810.38767906 811.96357316  55.25390741]
# Control input:  [-9.552840211369217, -10.69440416939443, 0, 0.6] 

# POS: [ 1.10369327e+00  6.19985159e-01 -3.15082531e-02  1.70579626e-01
#  -6.46462562e+01  1.35733857e+01] 

# VEL: [ 1.45194698e+00 -1.63887661e-01  2.31129314e+00 -3.41404057e+02
#   1.80295499e+02  4.25547561e+02] 

# WRENCH CONTROLL: [810.3094294  811.93728786  55.09556336]
# Control input:  [-9.804109305117036, -10.463268725385275, 0, 0.6] 

# POS: [ 1.12056905e+00  6.19889411e-01 -8.47280191e-03 -3.96731399e-01
#  -6.38616637e+01  1.45208884e+01] 

# VEL: [ 1.63794518e+00 -9.29323155e-03  2.23579592e+00 -5.50625932e+01
#   7.61517045e+01  9.19635822e+01] 

# WRENCH CONTROLL: [809.8479711  811.50840496  55.15060331]
# Control input:  [-10.036790434250644, -10.2292609505188, 0, 0.6] 

# POS: [ 1.13516552e+00  6.18944461e-01  1.54551221e-02 -9.14407110e-01
#  -6.25159305e+01  1.44103471e+01] 

# VEL: [ 1.41012540e+00 -9.12890994e-02  2.31161294e+00 -5.00112701e+01
#   1.30007697e+02 -1.06791039e+01] 

# WRENCH CONTROLL: [809.79369627 811.31455486  55.05461078]
# Control input:  [-10.277943131752515, -9.983783736981, 0, 0.6] 

# POS: [ 1.15198674e+00  6.19787720e-01  3.90659082e-02  1.09428352e+00
#  -6.23147268e+01  1.14284817e+01] 

# VEL: [ 1.63004674e+00  8.17153509e-02  2.28798407e+00  1.94650536e+02
#   1.94974813e+01 -2.88955250e+02] 

# WRENCH CONTROLL: [809.37135998 810.93972407  55.06283372]
# Control input:  [-10.505323359835025, -9.733877643809178, 0, 0.6] 

# POS: [  1.16312331   0.61895224   0.0614539   -2.82234823 -59.2104529
#   16.33070583] 

# VEL: [ 1.08451774e+00 -8.13621228e-02  2.18021937e+00 -3.81415004e+02
#   3.02304812e+02  4.77395368e+02] 

# WRENCH CONTROLL: [809.62850613 810.82724029  55.1507465 ]
# Control input:  [-10.723716405548458, -9.49466406754736, 0, 0.6] 

# POS: [  1.17866169   0.61909695   0.0860047   -2.59306772 -58.46152429
#   15.65828323] 

# VEL: [ 1.50434355e+00  1.40105983e-02  2.37687895e+00  2.21977278e+01
#   7.25073122e+01 -6.51004041e+01] 

# WRENCH CONTROLL: [808.94623877 810.46171428  54.93387751]
# Control input:  [-10.944673654322722, -9.224733791651785, 0, 0.6] 

# POS: [  1.19393178   0.61902038   0.11027799  -1.10810595 -57.71797458
#   13.12881487] 

# VEL: [ 1.49176434e+00 -7.48014626e-03  2.37130304e+00  1.45068735e+02
#   7.26387828e+01 -2.47108568e+02] 

# WRENCH CONTROLL: [808.74157496 810.26759914  54.92344267]
# Control input:  [-11.162532335514861, -8.954249141356648, 0, 0.6] 

# POS: [  1.20878671   0.61877926   0.13401801  -2.94497513 -56.36940472
#   15.51481692] 

# VEL: [ 1.43493013e+00 -2.32919238e-02  2.29319679e+00 -1.77434600e+02
#   1.30266736e+02  2.30478754e+02] 

# WRENCH CONTROLL: [808.55356564 810.04165384  54.9837255 ]
# Control input:  [-11.369234688325523, -8.684267079441609, 0, 0.6] 

# POS: [  1.23807586   0.61921348   0.18353206  -2.67292544 -54.31566042
#   14.18303239] 

# VEL: [ 2.82902552e+00  4.19416809e-02  4.78253871e+00  2.62771538e+01
#   1.98370209e+02 -1.28636450e+02] 

# WRENCH CONTROLL: [806.71375123 809.49488002  52.45744572]
# Control input:  [-11.761259628407212, -8.108394354885432, 0, 0.6] 

# POS: [  1.25224994   0.61927229   0.20842733  -4.54060881 -52.79420039
#   16.15447816] 

# VEL: [ 1.38141093e+00  5.73148811e-03  2.42630167e+00 -1.82025091e+02
#   1.48282040e+02  1.92137813e+02] 

# WRENCH CONTROLL: [807.87384175 809.2871581   54.79671767]
# Control input:  [-11.97310496091908, -7.8075714159550955, 0, 0.6] 

# POS: [  1.26733154   0.61909829   0.2332665   -4.25977351 -52.23666188
#   15.89746188] 

# VEL: [ 1.46238254e+00 -1.68718533e-02  2.40852206e+00  2.72311036e+01
#   5.40615406e+01 -2.49215003e+01] 

# WRENCH CONTROLL: [807.56546443 809.08117515  54.7975566 ]
# Control input:  [-12.158979697123355, -7.506177547037992, 0, 0.6] 

# POS: [  1.26733154   0.61909829   0.2332665   -4.25977351 -52.23666188
#   15.89746188] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [809.06698457 809.1472956   57.21297466]
# Control input:  [-12.177431421242005, -7.502643086048673, 0, 0.6] 

# POS: [  1.2968988    0.62024863   0.28459911 -10.46061208 -47.54903616
#   20.68047451] 

# VEL: [ 2.87448884e+00  1.11834677e-01  4.99048667e+00 -6.02837123e+02
#   4.55724621e+02  4.64998006e+02] 

# WRENCH CONTROLL: [805.54558306 808.31016589  52.16705803]
# Control input:  [-12.50116715768764, -6.870251277130084, 0, 0.6] 

# POS: [  1.31080963   0.62057448   0.30952563 -11.44153626 -46.5315139
#   21.20956829] 

# VEL: [ 1.34089252e+00  3.14089363e-02  2.40271685e+00 -9.45532192e+01
#   9.80809800e+01  5.10003947e+01] 

# WRENCH CONTROLL: [806.72413491 808.08031165  54.73336741]
# Control input:  [-12.68167404409766, -6.5493145864433675, 0, 0.6] 

# POS: [  1.32459481   0.62123713   0.33576891 -10.65885696 -46.04160082
#   20.22743124] 

# VEL: [ 1.33254676e+00  6.40548924e-02  2.53681219e+00  7.56578680e+01
#   4.73575569e+01 -9.49384964e+01] 

# WRENCH CONTROLL: [806.43040883 807.74843487  54.57711359]
# Control input:  [-12.84432960426217, -6.211581914423409, 0, 0.6] 

# POS: [  1.33870855   0.62156876   0.36088717 -11.25100812 -44.83024061
#   20.15121866] 

# VEL: [ 1.36616532e+00  3.21014157e-02  2.43136904e+00 -5.73183620e+01
#   1.17255844e+02 -7.37713661e+00] 

# WRENCH CONTROLL: [806.1168026  807.5001642   54.66201811]
# Control input:  [-12.99152229040547, -5.885509821761114, 0, 0.6] 

# POS: [  1.35178029   0.62169818   0.38534644 -16.36447047 -41.58298264
#   23.28820918] 

# VEL: [ 1.26119942e+00  1.24863340e-02  2.35990093e+00 -4.93361603e+02
#   3.13304819e+02  3.02665897e+02] 

# WRENCH CONTROLL: [805.88831328 807.19045788  54.70945529]
# Control input:  [-13.127475447797181, -5.563504043147503, 0, 0.6] 

# POS: [  1.36512939   0.62227185   0.41185952 -11.95318894 -42.06324851
#   19.27562868] 

# VEL: [ 1.28917535e+00  5.54019484e-02  2.56047285e+00  4.26014961e+02
#  -4.63811799e+01 -3.87510820e+02] 

# WRENCH CONTROLL: [805.58842324 806.87765384  54.48873904]
# Control input:  [-13.265349696684432, -5.211457321559974, 0, 0.6] 

# POS: [  1.37804903   0.62310161   0.43837254 -11.99335954 -41.15340594
#   18.97273617] 

# VEL: [ 1.25640909e+00  8.06923550e-02  2.57833686e+00 -3.90650821e+00
#   8.84803225e+01 -2.94556752e+01] 

# WRENCH CONTROLL: [805.35879801 806.59319095  54.45160826]
# Control input:  [-13.39473466369596, -4.855961257203275, 0, 0.6] 

# POS: [  1.38967153   0.62343293   0.4639679   -9.51983875 -40.83211211
#   16.57154055] 

# VEL: [ 1.13296968e+00  3.22970213e-02  2.49505490e+00  2.41120648e+02
#   3.13199622e+01 -2.34070337e+02] 

# WRENCH CONTROLL: [805.27932622 806.44229878  54.52008339]
# Control input:  [-13.512891388049054, -4.510322865425817, 0, 0.6] 

# POS: [  1.40228532   0.62356318   0.48995678  -4.61735202 -40.78303935
#   12.25888419] 

# VEL: [ 1.23237997e+00  1.27258495e-02  2.53913924e+00  4.78977864e+02
#   4.79445711e+00 -4.21350846e+02] 

# WRENCH CONTROLL: [805.06961885 806.34959209  54.46721318]
# Control input:  [-13.622674940150047, -4.157865507274941, 0, 0.6] 

# POS: [  1.41487707   0.62425688   0.51616373  -4.27275257 -39.65158218
#   11.65310766] 

# VEL: [ 1.22446487e+00  6.74580238e-02  2.54845371e+00  3.35100358e+01
#   1.10026786e+02 -5.89077925e+01] 

# WRENCH CONTROLL: [804.98062632 806.20128364  54.45029246]
# Control input:  [-13.725067198034374, -3.7984065966839946, 0, 0.6] 

# POS: [  1.42717588   0.62495059   0.54253067  -2.71420492 -38.71651191
#   10.22689428] 

# VEL: [ 1.19340601e+00  6.73135023e-02  2.55849628e+00  1.51232449e+02
#   9.07338110e+01 -1.38391498e+02] 

# WRENCH CONTROLL: [804.94520788 806.13730514  54.43483567]
# Control input:  [-13.819645259837646, -3.434783784338351, 0, 0.6] 

# POS: [  1.43917705   0.62598543   0.56826701  -7.36020594 -36.55054002
#   13.09168902] 

# VEL: [ 1.16871447e+00  1.00775992e-01  2.50629231e+00 -4.52443480e+02
#   2.10929755e+02  2.78983516e+02] 

# WRENCH CONTROLL: [804.85338036 805.9904063   54.47811953]
# Control input:  [-13.90150206139419, -3.077088663577368, 0, 0.6] 

# POS: [  1.4930752    0.64731099   0.60942105  -6.54483897 -35.32245206
#   11.76093457] 

# VEL: [   5.25953251    2.08100806    4.0159267    79.56579355  119.8402639
#  -129.85874763] 

# WRENCH CONTROLL: [800.73396532 803.92304125  52.95631666]
# Control input:  [-13.959315677389862, -2.5108258325213715, 0, 0.6] 

# POS: [  1.5039743    0.6480561    0.63530721  -7.03896302 -34.09356019
#   11.76894922] 

# VEL: [ 1.06210709e+00  7.26098838e-02  2.52258123e+00 -4.81519121e+01
#   1.19754329e+02  7.81019884e-01] 

# WRENCH CONTROLL: [804.7195946  805.78579827  54.44337366]
# Control input:  [-14.073544758212575, -2.1378487080354502, 0, 0.6] 

# POS: [  1.51553568   0.6492345    0.66153009  -7.58179087 -32.77276423
#   11.59880194] 

# VEL: [ 1.12539006e+00  1.14706563e-01  2.55254751e+00 -5.28391241e+01
#   1.28566914e+02 -1.65622183e+01] 

# WRENCH CONTROLL: [804.57363792 805.66168614  54.40663969]
# Control input:  [-14.122367734693066, -1.7680038427884015, 0, 0.6] 

# POS: [  1.48429646   0.63013369   0.67010476  -9.29225076 -30.22389363
#   12.22184773] 

# VEL: [  -3.03520575   -1.85583646    0.83311573 -166.18844061  247.64850193
#    60.5351864 ] 

# WRENCH CONTROLL: [808.55240677 807.51382574  56.12213463]
# Control input:  [-14.19036706843281, -1.6341024396070467, 0, 0.6] 

# POS: [  1.49394446   0.63141063   0.69771776 -10.4852649  -27.85034768
#   11.68175128] 

# VEL: [ 9.31252782e-01  1.23253897e-01  2.66528557e+00 -1.15153126e+02
#   2.29101424e+02 -5.21316502e+01] 

# WRENCH CONTROLL: [804.5942611  805.48516685  54.2805899 ]
# Control input:  [-14.175867707473452, -1.2540457867920012, 0, 0.6] 

# POS: [  1.51775046   0.63480627   0.75206383 -26.95113238 -23.17200575
#   18.34809642] 

# VEL: [ 2.29138980e+00  3.26839276e-01  5.23095209e+00 -1.58488282e+03
#   4.50302650e+02  6.41653160e+02] 

# WRENCH CONTROLL: [802.68665002 804.7023484   51.67061819]
# Control input:  [-14.198959205428217, -0.49131448917850806, 0, 0.6] 

# POS: [  1.52857282   0.63612169   0.7806855  -15.87482007 -25.28119368
#   13.78141619] 

# VEL: [ 1.04757002e+00  1.27328000e-01  2.77048646e+00  1.07215206e+03
#  -2.04162733e+02 -4.42040230e+02] 

# WRENCH CONTROLL: [803.73475066 804.73827846  54.12007509]
# Control input:  [-14.216827652390709, -0.07586978877953215, 0, 0.6] 

# POS: [  1.53885944   0.63744339   0.80706948 -16.58240527 -23.7744974
#   13.33150627] 

# VEL: [ 9.99889123e-01  1.28473161e-01  2.56459881e+00 -6.87793154e+01
#   1.46455208e+02 -4.37325364e+01] 

# WRENCH CONTROLL: [803.65015482 804.60741476  54.31600773]
# Control input:  [-14.211968358706848, 0.2995772062167532, 0, 0.6] 

# POS: [  1.54895813   0.63908413   0.83398679 -18.21786935 -22.11119209
#   13.25957343] 

# VEL: [ 9.83285206e-01  1.59754717e-01  2.62087416e+00 -1.59241208e+02
#   1.61952043e+02 -7.00392829e+00] 

# WRENCH CONTROLL: [803.5309229  804.44276488  54.24932538]
# Control input:  [-14.19623152641911, 0.6822495979961603, 0, 0.6] 

# POS: [  1.55903616   0.64031113   0.86101381 -17.72443843 -21.14201573
#   12.60401891] 

# VEL: [  0.98250574   0.11961991   2.63485882  48.10448631  94.48481674
#  -63.90988451] 

# WRENCH CONTROLL: [803.4000099  804.35113705  54.22520833]
# Control input:  [-14.170674877261204, 1.065140698318905, 0, 0.6] 

# POS: [  1.56879179   0.64144754   0.88798331 -16.24598682 -20.27707042
#   11.6514013 ] 

# VEL: [ 9.39522412e-01  1.09443371e-01  2.59731575e+00  1.42383255e+02
#   8.32991268e+01 -9.17424654e+01] 

# WRENCH CONTROLL: [803.32894505 804.24930587  54.25397697]
# Control input:  [-14.135250793643564, 1.4469971030687632, 0, 0.6] 

# POS: [  1.57821331   0.64234372   0.91403244 -18.19340655 -18.59153994
#   11.63490595] 

# VEL: [ 9.12604644e-01  8.68066663e-02  2.52322066e+00 -1.88634682e+02
#   1.63267066e+02 -1.59780366e+00] 

# WRENCH CONTROLL: [803.23966864 804.15693153  54.3191562 ]
# Control input:  [-14.091170692483349, 1.8144967577521527, 0, 0.6] 

# POS: [  1.58699453   0.642867     0.93892741 -22.99991421 -16.28355649
#   12.09286499] 

# VEL: [ 8.46984123e-01  5.04730401e-02  2.40122040e+00 -4.63607090e+02
#   2.22614331e+02  4.41720008e+01] 

# WRENCH CONTROLL: [803.173754   804.06362135  54.43129109]
# Control input:  [-14.04020933615795, 2.1647216116930426, 0, 0.6] 

# POS: [  1.59678122   0.64433727   0.96888051 -10.21565404 -17.50180836
#    8.61111727] 

# VEL: [ 9.42016330e-01  1.41520506e-01  2.88312978e+00  1.23054673e+03
#  -1.17262620e+02 -3.35135018e+02] 

# WRENCH CONTROLL: [802.99964863 803.89441292  53.94246228]
# Control input:  [-13.966105380139622, 2.583639211634654, 0, 0.6] 

# POS: [  1.60580228   0.64516087   0.99625718  -4.8165092  -16.98828323
#    7.00728983] 

# VEL: [ 8.75209361e-01  7.99042013e-02  2.65604375e+00  5.23816960e+02
#   4.98214401e+01 -1.55600940e+02] 

# WRENCH CONTROLL: [803.02313234 803.91387546  54.16588842]
# Control input:  [-13.890513174509273, 2.9650830040713774, 0, 0.6] 

# POS: [  1.6149045    0.64629488   1.02473072   2.62167253 -16.72317327
#    5.11257303] 

# VEL: [ 8.76314051e-01  1.09176609e-01  2.74128233e+00  7.16108786e+02
#   2.55233849e+01 -1.82413310e+02] 

# WRENCH CONTROLL: [803.01301884 803.87741651  54.07910018]
# Control input:  [-13.800012605905687, 3.3594684867240994, 0, 0.6] 

# POS: [  1.62371988   0.64744063   1.05259476   8.14162471 -16.33769955
#    3.94068771] 

# VEL: [ 8.62476712e-01  1.12097198e-01  2.72615422e+00  5.40059658e+02
#   3.77138785e+01 -1.14654614e+02] 

# WRENCH CONTROLL: [803.03851709 803.88760385  54.09423368]
# Control input:  [-13.70132801901597, 3.742852497802122, 0, 0.6] 

# POS: [  1.63291805   0.64989152   1.08334755  14.27007448 -16.71575009
#    2.88173235] 

# VEL: [ 8.85652927e-01  2.35986634e-01  2.96105554e+00  5.90082445e+02
#  -3.64008840e+01 -1.01962321e+02] 

# WRENCH CONTROLL: [803.03277416 803.78496944  53.8594647 ]
# Control input:  [-13.578597486681264, 4.16290785094361, 0, 0.6] 

# POS: [  1.63291805   0.64989152   1.08334755  14.27007448 -16.71575009
#    2.88173235] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [804.00868856 804.13047787  56.83006608]
# Control input:  [-13.588126981285667, 4.1716631428350075, 0, 0.6] 

# POS: [  1.63291805   0.64989152   1.08334755  14.27007448 -16.71575009
#    2.88173235] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [804.12520653 804.24699584  56.83830514]
# Control input:  [-13.590095995163985, 4.172267808947063, 0, 0.6] 

# POS: [  1.63291805   0.64989152   1.08334755  14.27007448 -16.71575009
#    2.88173235] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [804.2417245  804.36351381  56.84654421]
# Control input:  [-13.592065009042305, 4.172872475059118, 0, 0.6] 

# POS: [  1.63291805   0.64989152   1.08334755  14.27007448 -16.71575009
#    2.88173235] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [804.35824247 804.48003178  56.85478327]
# Control input:  [-13.594034022920624, 4.173477141171172, 0, 0.6] 

# POS: [  1.56706674   0.67786925   1.21730788  43.24512692 175.85714969
#   -2.10545885] 

# VEL: [-6.39975024e+00  2.71901091e+00  1.30189159e+01  2.81593629e+03
#   1.87151695e+04 -4.84679457e+02] 

# WRENCH CONTROLL: [808.17950821 799.44125097  43.65615348]
# Control input:  [-12.872276333615037, 6.018321557784634, 0, 0.6] 

# POS: [  1.57421585   0.67862668   1.23984558  45.56907896 177.07334986
#   -1.49572063] 

# VEL: [6.96398580e-01 7.37822315e-02 2.19540941e+00 2.26377475e+02
#  1.18470743e+02 5.93949427e+01] 

# WRENCH CONTROLL: [799.52660509 800.24171955  54.35879035]
# Control input:  [-12.707696342823727, 6.201336869178369, 0, 0.6] 

# POS: [  1.58118028   0.67926168   1.2622734   48.18759638 178.12884019
#   -0.75920111] 

# VEL: [6.77057262e-01 6.17317634e-02 2.18035192e+00 2.54562815e+02
#  1.02610961e+02 7.16017697e+01] 

# WRENCH CONTROLL: [797.72632606 798.43514998  54.24453923]
# Control input:  [-12.537080542372726, 6.470175488354795, 0, 0.6] 

# POS: [  1.5947786    0.68094395   1.30702051  55.79016952 179.84018317
#    1.09601716] 

# VEL: [1.31953305e+00 1.63241621e-01 4.34210104e+00 7.37726793e+02
#  1.66062667e+02 1.80023816e+02] 

# WRENCH CONTROLL: [795.09907227 796.33430069  51.93876656]
# Control input:  [-12.201191285333515, 6.999651922072039, 0, 0.6] 

# POS: [   1.60162937    0.68171838    1.32952363   60.2912354  -179.58186655
#     2.13281984] 

# VEL: [ 6.63545870e-01  7.50091687e-02  2.17958956e+00  4.35960619e+02
#  -3.48126118e+04  1.00421800e+02] 

# WRENCH CONTROLL: [797.51878832 798.20384676  54.2276293 ]
# Control input:  [-12.070520856122181, 7.296207991841405, 0, 0.6] 

# POS: [   1.60162937    0.68171838    1.32952363   60.2912354  -179.58186655
#     2.13281984] 

# VEL: [0. 0. 0. 0. 0. 0.] 

# WRENCH CONTROLL: [800.02276753 800.13673732  56.53971004]
# Control input:  [-12.101460870480565, 7.3208280962272685, 0, 0.6] 

# POS: [  1.71727934   0.66083268   1.38388174 -13.87246392   7.07924331
#    0.85167036] 

# VEL: [ 1.11449115e+01 -2.01270433e+00  5.23836077e+00 -7.14697869e+03
#   1.79880856e+04 -1.23461318e+02] 

# WRENCH CONTROLL: [788.77170934 801.67013351  51.26736328]
# Control input:  [-11.678535224429, 7.825753043734905, 0, 0.6] 

# EMERGENCY STOP OCCURED
# EMERGENCY STOP OCCURED
# Traceback (most recent call last):
#   File "/home/jski306/Documents/git/Crazyflie-Controller/crazyflie_dual_manual_altitude copy.py", line 189, in <module>
#     raise Exception('Manual Emegency Stop') # emergency stop
#     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^